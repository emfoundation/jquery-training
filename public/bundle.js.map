{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/components/alert.js","src/components/slider.js","src/components/tabs.js","src/dispatcher.js","src/main.js"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","module.exports = ($container=$('#container')) => {\n    var $button = $container.find('button');\n    var content = $container.find('.js-content').html();\n    $button.on('click', function () {\n        alert(content + '!!');\n    })\n}","module.exports = function ($container, numPerView) {\n    var $items = $container.find('.slider-item');\n    var $slider = $container.find('.slider');\n    var numItems = $items.length;\n    var npv = numPerView || 2;\n    var sliceEnd = npv === 1 ? undefined : 1 - npv;\n    var itemWidth = 100 / npv;\n    var states = $items.map(function (index) {\n        return index * itemWidth;\n    }).slice(0, sliceEnd).get();\n    var currentIndex = 0;\n\n\n    $items.each(function (index) {\n        index = index % 4;\n        $(this).addClass('item' + (index + 1));\n    });\n\n    $slider.css('width', (numItems * itemWidth) + '%');\n    $items.css('width', (100 / numItems) + '%');\n\n    $container.find('.control').on('click', function () {\n        var $this = $(this);\n        var goRight = $this.hasClass('right');\n        if (goRight) {\n        currentIndex = currentIndex < states.length - 1 ?\n            currentIndex + 1 : currentIndex;\n        } else {\n        currentIndex = currentIndex > 0 ?\n            currentIndex - 1 : currentIndex;\n        }\n        $slider.css('left', '-' + states[currentIndex] + '%');\n    });\n}","var Dispatcher = require(\"../dispatcher\");\n\nvar makeTabs = function($container) {\n  var $tabs = $container.find(\".tab\");\n\n  var state = {\n    tabs: [false, false, false]\n  };\n\n  $tabs.on(\"click\", function() {\n    var id = $(this).data(\"tab\");\n\n    $container\n      .find(\".tab-content, .tab\")\n      .removeClass(\"is-active\")\n      .not(\".tab\")\n      .filter(\"#tab\" + id)\n      .addClass(\"is-active\")\n      .end()\n      .end()\n      .filter(`[data-tab=${id}]`)\n      .addClass(\"is-active\");\n\n    // will make the reloading of the tabs work next time\n    history.pushState({ id }, null, `tab${id + 1}`);\n\n    // only make the ajax request if the content hasn't been cached yet\n    if (!state.tabs[id]) {\n      $.ajax(`tabs/tab${id + 1}.html`)\n        .done(function(data) {\n          var $currentTab = $container.find(\"#tab\" + id);\n          var $component = $currentTab.html(data).find(\".component\");\n          Dispatcher.register($component);\n          // make sure not to get the content twice\n          state.tabs[id] = true;\n        })\n        .fail(function(error) {\n          console.log(error.responseText);\n        });\n    }\n  });\n  // make sure the active tab is fetched on page load\n  $tabs.filter(\".is-active\").trigger(\"click\");\n};\n\nmodule.exports = makeTabs;\n","var makeSlider = require(\"./components/slider\");\nvar makeAlert = require(\"./components/alert\");\n\nmodule.exports = (function() {\n  var components = {\n    slider: makeSlider,\n    alert: makeAlert\n  };\n\n  function register($component) {\n    var componentType = $component.data(\"type\");\n    if (componentType) {\n      components[componentType]($component);\n    }\n  }\n\n  return {\n    register: register\n  };\n})();\n","var makeTabs = require('./components/tabs');\n\nmakeTabs($('#tab-container'));\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvY29tcG9uZW50cy9hbGVydC5qcyIsInNyYy9jb21wb25lbnRzL3NsaWRlci5qcyIsInNyYy9jb21wb25lbnRzL3RhYnMuanMiLCJzcmMvZGlzcGF0Y2hlci5qcyIsInNyYy9tYWluLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQSxPQUFPLE9BQVAsR0FBaUIsWUFBZ0M7QUFBQSxRQUEvQixVQUErQix1RUFBcEIsRUFBRSxZQUFGLENBQW9COztBQUM3QyxRQUFJLFVBQVUsV0FBVyxJQUFYLENBQWdCLFFBQWhCLENBQWQ7QUFDQSxRQUFJLFVBQVUsV0FBVyxJQUFYLENBQWdCLGFBQWhCLEVBQStCLElBQS9CLEVBQWQ7QUFDQSxZQUFRLEVBQVIsQ0FBVyxPQUFYLEVBQW9CLFlBQVk7QUFDNUIsY0FBTSxVQUFVLElBQWhCO0FBQ0gsS0FGRDtBQUdILENBTkQ7Ozs7O0FDQUEsT0FBTyxPQUFQLEdBQWlCLFVBQVUsVUFBVixFQUFzQixVQUF0QixFQUFrQztBQUMvQyxRQUFJLFNBQVMsV0FBVyxJQUFYLENBQWdCLGNBQWhCLENBQWI7QUFDQSxRQUFJLFVBQVUsV0FBVyxJQUFYLENBQWdCLFNBQWhCLENBQWQ7QUFDQSxRQUFJLFdBQVcsT0FBTyxNQUF0QjtBQUNBLFFBQUksTUFBTSxjQUFjLENBQXhCO0FBQ0EsUUFBSSxXQUFXLFFBQVEsQ0FBUixHQUFZLFNBQVosR0FBd0IsSUFBSSxHQUEzQztBQUNBLFFBQUksWUFBWSxNQUFNLEdBQXRCO0FBQ0EsUUFBSSxTQUFTLE9BQU8sR0FBUCxDQUFXLFVBQVUsS0FBVixFQUFpQjtBQUNyQyxlQUFPLFFBQVEsU0FBZjtBQUNILEtBRlksRUFFVixLQUZVLENBRUosQ0FGSSxFQUVELFFBRkMsRUFFUyxHQUZULEVBQWI7QUFHQSxRQUFJLGVBQWUsQ0FBbkI7O0FBR0EsV0FBTyxJQUFQLENBQVksVUFBVSxLQUFWLEVBQWlCO0FB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LENBQXBCO0FBQ0EsUUFBSSxhQUFKLEVBQW1CO0FBQ2pCLGlCQUFXLGFBQVgsRUFBMEIsVUFBMUI7QUFDRDtBQUNGOztBQUVELFNBQU87QUFDTCxjQUFVO0FBREwsR0FBUDtBQUdELENBaEJnQixFQUFqQjs7Ozs7QUNIQSxJQUFJLFdBQVcsUUFBUSxtQkFBUixDQUFmOztBQUVBLFNBQVMsRUFBRSxnQkFBRixDQUFUIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIm1vZHVsZS5leHBvcnRzID0gKCRjb250YWluZXI9JCgnI2NvbnRhaW5lcicpKSA9PiB7XG4gICAgdmFyICRidXR0b24gPSAkY29udGFpbmVyLmZpbmQoJ2J1dHRvbicpO1xuICAgIHZhciBjb250ZW50ID0gJGNvbnRhaW5lci5maW5kKCcuanMtY29udGVudCcpLmh0bWwoKTtcbiAgICAkYnV0dG9uLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgYWxlcnQoY29udGVudCArICchIScpO1xuICAgIH0pXG59IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoJGNvbnRhaW5lciwgbnVtUGVyVmlldykge1xuICAgIHZhciAkaXRlbXMgPSAkY29udGFpbmVyLmZpbmQoJy5zbGlkZXItaXRlbScpO1xuICAgIHZhciAkc2xpZGVyID0gJGNvbnRhaW5lci5maW5kKCcuc2xpZGVyJyk7XG4gICAgdmFyIG51bUl0ZW1zID0gJGl0ZW1zLmxlbmd0aDtcbiAgICB2YXIgbnB2ID0gbnVtUGVyVmlldyB8fCAyO1xuICAgIHZhciBzbGljZUVuZCA9IG5wdiA9PT0gMSA/IHVuZGVmaW5lZCA6IDEgLSBucHY7XG4gICAgdmFyIGl0ZW1XaWR0aCA9IDEwMCAvIG5wdjtcbiAgICB2YXIgc3RhdGVzID0gJGl0ZW1zLm1hcChmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIGluZGV4ICogaXRlbVdpZHRoO1xuICAgIH0pLnNsaWNlKDAsIHNsaWNlRW5kKS5nZXQoKTtcbiAgICB2YXIgY3VycmVudEluZGV4ID0gMDtcblxuXG4gICAgJGl0ZW1zLmVhY2goZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgIGluZGV4ID0gaW5kZXggJSA0O1xuICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdpdGVtJyArIChpbmRleCArIDEpKTtcbiAgICB9KTtcblxuICAgICRzbGlkZXIuY3NzKCd3aWR0aCcsIChudW1JdGVtcyAqIGl0ZW1XaWR0aCkgKyAnJScpO1xuICAgICRpdGVtcy5jc3MoJ3dpZHRoJywgKDEwMCAvIG51bUl0ZW1zKSArICclJyk7XG5cbiAgICAkY29udGFpbmVyLmZpbmQoJy5jb250cm9sJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpO1xuICAgICAgICB2YXIgZ29SaWdodCA9ICR0aGlzLmhhc0NsYXNzKCdyaWdodCcpO1xuICAgICAgICBpZiAoZ29SaWdodCkge1xuICAgICAgICBjdXJyZW50SW5kZXggPSBjdXJyZW50SW5kZXggPCBzdGF0ZXMubGVuZ3RoIC0gMSA/XG4gICAgICAgICAgICBjdXJyZW50SW5kZXggKyAxIDogY3VycmVudEluZGV4O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICBjdXJyZW50SW5kZXggPSBjdXJyZW50SW5kZXggPiAwID9cbiAgICAgICAgICAgIGN1cnJlbnRJbmRleCAtIDEgOiBjdXJyZW50SW5kZXg7XG4gICAgICAgIH1cbiAgICAgICAgJHNsaWRlci5jc3MoJ2xlZnQnLCAnLScgKyBzdGF0ZXNbY3VycmVudEluZGV4XSArICclJyk7XG4gICAgfSk7XG59IiwidmFyIERpc3BhdGNoZXIgPSByZXF1aXJlKFwiLi4vZGlzcGF0Y2hlclwiKTtcblxudmFyIG1ha2VUYWJzID0gZnVuY3Rpb24oJGNvbnRhaW5lcikge1xuICB2YXIgJHRhYnMgPSAkY29udGFpbmVyLmZpbmQoXCIudGFiXCIpO1xuXG4gIHZhciBzdGF0ZSA9IHtcbiAgICB0YWJzOiBbZmFsc2UsIGZhbHNlLCBmYWxzZV1cbiAgfTtcblxuICAkdGFicy5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xuICAgIHZhciBpZCA9ICQodGhpcykuZGF0YShcInRhYlwiKTtcblxuICAgICRjb250YWluZXJcbiAgICAgIC5maW5kKFwiLnRhYi1jb250ZW50LCAudGFiXCIpXG4gICAgICAucmVtb3ZlQ2xhc3MoXCJpcy1hY3RpdmVcIilcbiAgICAgIC5ub3QoXCIudGFiXCIpXG4gICAgICAuZmlsdGVyKFwiI3RhYlwiICsgaWQpXG4gICAgICAuYWRkQ2xhc3MoXCJpcy1hY3RpdmVcIilcbiAgICAgIC5lbmQoKVxuICAgICAgLmVuZCgpXG4gICAgICAuZmlsdGVyKGBbZGF0YS10YWI9JHtpZH1dYClcbiAgICAgIC5hZGRDbGFzcyhcImlzLWFjdGl2ZVwiKTtcblxuICAgIC8vIHdpbGwgbWFrZSB0aGUgcmVsb2FkaW5nIG9mIHRoZSB0YWJzIHdvcmsgbmV4dCB0aW1lXG4gICAgaGlzdG9yeS5wdXNoU3RhdGUoeyBpZCB9LCBudWxsLCBgdGFiJHtpZCArIDF9YCk7XG5cbiAgICAvLyBvbmx5IG1ha2UgdGhlIGFqYXggcmVxdWVzdCBpZiB0aGUgY29udGVudCBoYXNuJ3QgYmVlbiBjYWNoZWQgeWV0XG4gICAgaWYgKCFzdGF0ZS50YWJzW2lkXSkge1xuICAgICAgJC5hamF4KGB0YWJzL3RhYiR7aWQgKyAxfS5odG1sYClcbiAgICAgICAgLmRvbmUoZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgIHZhciAkY3VycmVudFRhYiA9ICRjb250YWluZXIuZmluZChcIiN0YWJcIiArIGlkKTtcbiAgICAgICAgICB2YXIgJGNvbXBvbmVudCA9ICRjdXJyZW50VGFiLmh0bWwoZGF0YSkuZmluZChcIi5jb21wb25lbnRcIik7XG4gICAgICAgICAgRGlzcGF0Y2hlci5yZWdpc3RlcigkY29tcG9uZW50KTtcbiAgICAgICAgICAvLyBtYWtlIHN1cmUgbm90IHRvIGdldCB0aGUgY29udGVudCB0d2ljZVxuICAgICAgICAgIHN0YXRlLnRhYnNbaWRdID0gdHJ1ZTtcbiAgICAgICAgfSlcbiAgICAgICAgLmZhaWwoZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5yZXNwb25zZVRleHQpO1xuICAgICAgICB9KTtcbiAgICB9XG4gIH0pO1xuICAvLyBtYWtlIHN1cmUgdGhlIGFjdGl2ZSB0YWIgaXMgZmV0Y2hlZCBvbiBwYWdlIGxvYWRcbiAgJHRhYnMuZmlsdGVyKFwiLmlzLWFjdGl2ZVwiKS50cmlnZ2VyKFwiY2xpY2tcIik7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IG1ha2VUYWJzO1xuIiwidmFyIG1ha2VTbGlkZXIgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL3NsaWRlclwiKTtcbnZhciBtYWtlQWxlcnQgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL2FsZXJ0XCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IChmdW5jdGlvbigpIHtcbiAgdmFyIGNvbXBvbmVudHMgPSB7XG4gICAgc2xpZGVyOiBtYWtlU2xpZGVyLFxuICAgIGFsZXJ0OiBtYWtlQWxlcnRcbiAgfTtcblxuICBmdW5jdGlvbiByZWdpc3RlcigkY29tcG9uZW50KSB7XG4gICAgdmFyIGNvbXBvbmVudFR5cGUgPSAkY29tcG9uZW50LmRhdGEoXCJ0eXBlXCIpO1xuICAgIGlmIChjb21wb25lbnRUeXBlKSB7XG4gICAgICBjb21wb25lbnRzW2NvbXBvbmVudFR5cGVdKCRjb21wb25lbnQpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgcmVnaXN0ZXI6IHJlZ2lzdGVyXG4gIH07XG59KSgpO1xuIiwidmFyIG1ha2VUYWJzID0gcmVxdWlyZSgnLi9jb21wb25lbnRzL3RhYnMnKTtcblxubWFrZVRhYnMoJCgnI3RhYi1jb250YWluZXInKSk7XG4iXX0="}