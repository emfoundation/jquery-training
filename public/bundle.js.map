{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/components/alert.js","src/components/slider.js","src/components/tabs.js","src/dispatcher.js","src/main.js"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","module.exports = ($container=$('#container')) => {\n    var $button = $container.find('button');\n    var content = $container.find('.js-content').html();\n    $button.on('click', function () {\n        alert(content + '!!');\n    })\n}","module.exports = function ($container, numPerView) {\n    var $items = $container.find('.slider-item');\n    var $slider = $container.find('.slider');\n    var numItems = $items.length;\n    var npv = numPerView || 2;\n    var sliceEnd = npv === 1 ? undefined : 1 - npv;\n    var itemWidth = 100 / npv;\n    var states = $items.map(function (index) {\n        return index * itemWidth;\n    }).slice(0, sliceEnd).get();\n    var currentIndex = 0;\n\n\n    $items.each(function (index) {\n        index = index % 4;\n        $(this).addClass('item' + (index + 1));\n    });\n\n    $slider.css('width', (numItems * itemWidth) + '%');\n    $items.css('width', (100 / numItems) + '%');\n\n    $container.find('.control').on('click', function () {\n        var $this = $(this);\n        var goRight = $this.hasClass('right');\n        if (goRight) {\n        currentIndex = currentIndex < states.length - 1 ?\n            currentIndex + 1 : currentIndex;\n        } else {\n        currentIndex = currentIndex > 0 ?\n            currentIndex - 1 : currentIndex;\n        }\n        $slider.css('left', '-' + states[currentIndex] + '%');\n    });\n}","var Dispatcher = require('../dispatcher')\n\nvar makeTabs = function ($container) {\n    var $tabs = $container.find('.tab');\n\n    var state = {\n        tabs: [false, false, false]\n    };\n    \n    $tabs.on('click', function () {\n        var id = $(this).data('tab');\n\n        $container.find('.tab-content, .tab')\n            .removeClass('is-active')\n            .not('.tab')\n                .filter('#tab' + id)\n                    .addClass('is-active')\n                .end()\n            .end()\n        .filter(`[data-tab=${id}]`)\n            .addClass('is-active');\n\n        // only make the ajax request if the content hasn't been cached yet\n        if (!state.tabs[id]) {\n            $.ajax(`tabs/tab${id+1}.html`)\n                .done(function (data) {\n                    var $currentTab = $container.find('#tab' + id);\n                    var $component = $currentTab\n                        .html(data)\n                        .find('.component');\n                    Dispatcher.register($component);\n                    // make sure not to get the content twice\n                    state.tabs[id] = true;\n                })\n                .fail(function (error) {\n                    console.log(error.responseText);\n                })\n        }\n    });\n    // make sure the active tab is fetched on page load\n    $tabs.filter('.is-active').trigger('click');\n};\n\nmodule.exports = makeTabs;","var makeSlider = require('./components/slider');\nvar makeAlert = require('./components/alert')\n\nmodule.exports = (function () {\n    var components = {\n        slider: makeSlider,\n        alert: makeAlert\n    };\n\n    function register($component) {\n        var componentType = $component.data('type');  \n        if (componentType) {\n            components[componentType]($component);\n        }\n    }\n\n    return {\n        register: register\n    };\n})();","var makeTabs = require('./components/tabs');\n\nmakeTabs($('#tab-container'));\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvY29tcG9uZW50cy9hbGVydC5qcyIsInNyYy9jb21wb25lbnRzL3NsaWRlci5qcyIsInNyYy9jb21wb25lbnRzL3RhYnMuanMiLCJzcmMvZGlzcGF0Y2hlci5qcyIsInNyYy9tYWluLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQSxPQUFPLE9BQVAsR0FBaUIsWUFBZ0M7QUFBQSxRQUEvQixVQUErQix1RUFBcEIsRUFBRSxZQUFGLENBQW9COztBQUM3QyxRQUFJLFVBQVUsV0FBVyxJQUFYLENBQWdCLFFBQWhCLENBQWQ7QUFDQSxRQUFJLFVBQVUsV0FBVyxJQUFYLENBQWdCLGFBQWhCLEVBQStCLElBQS9CLEVBQWQ7QUFDQSxZQUFRLEVBQVIsQ0FBVyxPQUFYLEVBQW9CLFlBQVk7QUFDNUIsY0FBTSxVQUFVLElBQWhCO0FBQ0gsS0FGRDtBQUdILENBTkQ7Ozs7O0FDQUEsT0FBTyxPQUFQLEdBQWlCLFVBQVUsVUFBVixFQUFzQixVQUF0QixFQUFrQztBQUMvQyxRQUFJLFNBQVMsV0FBVyxJQUFYLENBQWdCLGNBQWhCLENBQWI7QUFDQSxRQUFJLFVBQVUsV0FBVyxJQUFYLENBQWdCLFNBQWhCLENBQWQ7QUFDQSxRQUFJLFdBQVcsT0FBTyxNQUF0QjtBQUNBLFFBQUksTUFBTSxjQUFjLENBQXhCO0FBQ0EsUUFBSSxXQUFXLFFBQVEsQ0FBUixHQUFZLFNBQVosR0FBd0IsSUFBSSxHQUEzQztBQUNBLFFBQUksWUFBWSxNQUFNLEdBQXRCO0FBQ0EsUUFBSSxTQUFTLE9BQU8sR0FBUCxDQUFXLFVBQVUsS0FBVixFQUFpQjtBQUNyQyxlQUFPLFFBQVEsU0FBZjtBQUNILEtBRlksRUFFVixLQUZVLENBRUosQ0FGSSxFQUVELFFBRkMsRUFFUyxHQUZULEVBQWI7QUFHQSxRQUFJLGVBQWUsQ0FBbkI7O0FBR0EsV0FBTyxJQUFQLENBQVksVUFBVSxLQUFWLEVBQWlCO0FB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OztBQUVELFdBQU87QUFDSCxrQkFBVTtBQURQLEtBQVA7QUFHSCxDQWhCZ0IsRUFBakI7Ozs7O0FDSEEsSUFBSSxXQUFXLFFBQVEsbUJBQVIsQ0FBZjs7QUFFQSxTQUFTLEVBQUUsZ0JBQUYsQ0FBVCIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJtb2R1bGUuZXhwb3J0cyA9ICgkY29udGFpbmVyPSQoJyNjb250YWluZXInKSkgPT4ge1xuICAgIHZhciAkYnV0dG9uID0gJGNvbnRhaW5lci5maW5kKCdidXR0b24nKTtcbiAgICB2YXIgY29udGVudCA9ICRjb250YWluZXIuZmluZCgnLmpzLWNvbnRlbnQnKS5odG1sKCk7XG4gICAgJGJ1dHRvbi5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGFsZXJ0KGNvbnRlbnQgKyAnISEnKTtcbiAgICB9KVxufSIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCRjb250YWluZXIsIG51bVBlclZpZXcpIHtcbiAgICB2YXIgJGl0ZW1zID0gJGNvbnRhaW5lci5maW5kKCcuc2xpZGVyLWl0ZW0nKTtcbiAgICB2YXIgJHNsaWRlciA9ICRjb250YWluZXIuZmluZCgnLnNsaWRlcicpO1xuICAgIHZhciBudW1JdGVtcyA9ICRpdGVtcy5sZW5ndGg7XG4gICAgdmFyIG5wdiA9IG51bVBlclZpZXcgfHwgMjtcbiAgICB2YXIgc2xpY2VFbmQgPSBucHYgPT09IDEgPyB1bmRlZmluZWQgOiAxIC0gbnB2O1xuICAgIHZhciBpdGVtV2lkdGggPSAxMDAgLyBucHY7XG4gICAgdmFyIHN0YXRlcyA9ICRpdGVtcy5tYXAoZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgIHJldHVybiBpbmRleCAqIGl0ZW1XaWR0aDtcbiAgICB9KS5zbGljZSgwLCBzbGljZUVuZCkuZ2V0KCk7XG4gICAgdmFyIGN1cnJlbnRJbmRleCA9IDA7XG5cblxuICAgICRpdGVtcy5lYWNoKGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICBpbmRleCA9IGluZGV4ICUgNDtcbiAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnaXRlbScgKyAoaW5kZXggKyAxKSk7XG4gICAgfSk7XG5cbiAgICAkc2xpZGVyLmNzcygnd2lkdGgnLCAobnVtSXRlbXMgKiBpdGVtV2lkdGgpICsgJyUnKTtcbiAgICAkaXRlbXMuY3NzKCd3aWR0aCcsICgxMDAgLyBudW1JdGVtcykgKyAnJScpO1xuXG4gICAgJGNvbnRhaW5lci5maW5kKCcuY29udHJvbCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyICR0aGlzID0gJCh0aGlzKTtcbiAgICAgICAgdmFyIGdvUmlnaHQgPSAkdGhpcy5oYXNDbGFzcygncmlnaHQnKTtcbiAgICAgICAgaWYgKGdvUmlnaHQpIHtcbiAgICAgICAgY3VycmVudEluZGV4ID0gY3VycmVudEluZGV4IDwgc3RhdGVzLmxlbmd0aCAtIDEgP1xuICAgICAgICAgICAgY3VycmVudEluZGV4ICsgMSA6IGN1cnJlbnRJbmRleDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3VycmVudEluZGV4ID0gY3VycmVudEluZGV4ID4gMCA/XG4gICAgICAgICAgICBjdXJyZW50SW5kZXggLSAxIDogY3VycmVudEluZGV4O1xuICAgICAgICB9XG4gICAgICAgICRzbGlkZXIuY3NzKCdsZWZ0JywgJy0nICsgc3RhdGVzW2N1cnJlbnRJbmRleF0gKyAnJScpO1xuICAgIH0pO1xufSIsInZhciBEaXNwYXRjaGVyID0gcmVxdWlyZSgnLi4vZGlzcGF0Y2hlcicpXG5cbnZhciBtYWtlVGFicyA9IGZ1bmN0aW9uICgkY29udGFpbmVyKSB7XG4gICAgdmFyICR0YWJzID0gJGNvbnRhaW5lci5maW5kKCcudGFiJyk7XG5cbiAgICB2YXIgc3RhdGUgPSB7XG4gICAgICAgIHRhYnM6IFtmYWxzZSwgZmFsc2UsIGZhbHNlXVxuICAgIH07XG4gICAgXG4gICAgJHRhYnMub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaWQgPSAkKHRoaXMpLmRhdGEoJ3RhYicpO1xuXG4gICAgICAgICRjb250YWluZXIuZmluZCgnLnRhYi1jb250ZW50LCAudGFiJylcbiAgICAgICAgICAgIC5yZW1vdmVDbGFzcygnaXMtYWN0aXZlJylcbiAgICAgICAgICAgIC5ub3QoJy50YWInKVxuICAgICAgICAgICAgICAgIC5maWx0ZXIoJyN0YWInICsgaWQpXG4gICAgICAgICAgICAgICAgICAgIC5hZGRDbGFzcygnaXMtYWN0aXZlJylcbiAgICAgICAgICAgICAgICAuZW5kKClcbiAgICAgICAgICAgIC5lbmQoKVxuICAgICAgICAuZmlsdGVyKGBbZGF0YS10YWI9JHtpZH1dYClcbiAgICAgICAgICAgIC5hZGRDbGFzcygnaXMtYWN0aXZlJyk7XG5cbiAgICAgICAgLy8gb25seSBtYWtlIHRoZSBhamF4IHJlcXVlc3QgaWYgdGhlIGNvbnRlbnQgaGFzbid0IGJlZW4gY2FjaGVkIHlldFxuICAgICAgICBpZiAoIXN0YXRlLnRhYnNbaWRdKSB7XG4gICAgICAgICAgICAkLmFqYXgoYHRhYnMvdGFiJHtpZCsxfS5odG1sYClcbiAgICAgICAgICAgICAgICAuZG9uZShmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgJGN1cnJlbnRUYWIgPSAkY29udGFpbmVyLmZpbmQoJyN0YWInICsgaWQpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgJGNvbXBvbmVudCA9ICRjdXJyZW50VGFiXG4gICAgICAgICAgICAgICAgICAgICAgICAuaHRtbChkYXRhKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmZpbmQoJy5jb21wb25lbnQnKTtcbiAgICAgICAgICAgICAgICAgICAgRGlzcGF0Y2hlci5yZWdpc3RlcigkY29tcG9uZW50KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gbWFrZSBzdXJlIG5vdCB0byBnZXQgdGhlIGNvbnRlbnQgdHdpY2VcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUudGFic1tpZF0gPSB0cnVlO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmZhaWwoZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yLnJlc3BvbnNlVGV4dCk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIC8vIG1ha2Ugc3VyZSB0aGUgYWN0aXZlIHRhYiBpcyBmZXRjaGVkIG9uIHBhZ2UgbG9hZFxuICAgICR0YWJzLmZpbHRlcignLmlzLWFjdGl2ZScpLnRyaWdnZXIoJ2NsaWNrJyk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IG1ha2VUYWJzOyIsInZhciBtYWtlU2xpZGVyID0gcmVxdWlyZSgnLi9jb21wb25lbnRzL3NsaWRlcicpO1xudmFyIG1ha2VBbGVydCA9IHJlcXVpcmUoJy4vY29tcG9uZW50cy9hbGVydCcpXG5cbm1vZHVsZS5leHBvcnRzID0gKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgY29tcG9uZW50cyA9IHtcbiAgICAgICAgc2xpZGVyOiBtYWtlU2xpZGVyLFxuICAgICAgICBhbGVydDogbWFrZUFsZXJ0XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIHJlZ2lzdGVyKCRjb21wb25lbnQpIHtcbiAgICAgICAgdmFyIGNvbXBvbmVudFR5cGUgPSAkY29tcG9uZW50LmRhdGEoJ3R5cGUnKTsgIFxuICAgICAgICBpZiAoY29tcG9uZW50VHlwZSkge1xuICAgICAgICAgICAgY29tcG9uZW50c1tjb21wb25lbnRUeXBlXSgkY29tcG9uZW50KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIHJlZ2lzdGVyOiByZWdpc3RlclxuICAgIH07XG59KSgpOyIsInZhciBtYWtlVGFicyA9IHJlcXVpcmUoJy4vY29tcG9uZW50cy90YWJzJyk7XG5cbm1ha2VUYWJzKCQoJyN0YWItY29udGFpbmVyJykpO1xuIl19"}